@model LMS.Web.ViewModels.AdminViewModels.BusScheduleViewModel

<h2>Schedule for Bus ID: @Model.Bus.BusId</h2>
<p>Route: @Model.Bus.Route</p>

@if (TempData["StatusMessage"] != null)
{
    <div class="alert alert-info">@TempData["StatusMessage"]</div>
}

<h3>Add New Schedule Entry</h3>
<form asp-action="Schedule" method="get" class="mb-4">
    <input type="hidden" name="id" value="@Model.Bus.BusId" />
    <div class="form-group">
        <label for="newDeparture">Departure Time</label>
        <input type="datetime-local" name="newDeparture" class="form-control" required />
    </div>
    <div class="form-group">
        <label for="newArrival">Arrival Time</label>
        <input type="datetime-local" name="newArrival" class="form-control" required />
    </div>
    <div class="form-group">
        <label for="newDriverId">Driver ID</label>
        <input type="text" name="newDriverId" class="form-control" required />
    </div>
    <div class="form-group mt-3">
        <button type="submit" class="btn btn-primary">Add Schedule Entry</button>
    </div>
</form>

<h3>Current Schedule</h3>
<table class="table">
    <thead>
        <tr>
            <th>Departure Time</th>
            <th>Arrival Time</th>
            <th>Driver</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var schedule in Model.Schedules)
        {
            <tr>
                <td>@schedule.DepartureTime.ToString("g")</td>
                <td>@schedule.ArrivalTime.ToString("g")</td>
                <td>@schedule.DriverId</td>
            </tr>
        }
    </tbody>
</table>

@if (!Model.Schedules.Any())
{
    <p>No schedules found for this bus.</p>
}

<div class="mt-3">
    <a asp-action="Index" class="btn btn-secondary">Back to Buses</a>
</div>